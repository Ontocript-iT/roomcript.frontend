<div class="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4">
  <div class="max-w-7xl mx-auto">
    <!-- Header Section -->
    <div class="mb-8">
      <div class="flex items-center justify-between flex-wrap gap-4">
        <div class="flex items-center gap-4">
          <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center shadow-lg">
            <mat-icon class="!text-white !w-7 !h-7 !text-[28px]">account_circle</mat-icon>
          </div>
          <div>
            <h1 class="text-2xl font-bold text-gray-900">Account Details</h1>
            <p class="text-gray-500 mt-1">View and manage your account information</p>
          </div>
        </div>
        <div class="flex gap-3">
          <button
            mat-raised-button
            (click)="editProfile()"
            class="!h-11 !px-5 !bg-white !text-indigo-600 !border !border-indigo-600 hover:!bg-indigo-50 !rounded-lg !font-semibold !shadow-md hover:!shadow-lg !transition-all !duration-300">
            <mat-icon class="!mr-2 !text-[20px]">edit</mat-icon>
            Edit Profile
          </button>
          <button
            mat-raised-button
            (click)="changePassword()"
            class="!h-11 !px-5 !bg-gradient-to-r !from-indigo-600 !to-purple-600 !text-white hover:!from-indigo-700 hover:!to-purple-700 !rounded-lg !font-semibold !shadow-lg hover:!shadow-xl !transition-all !duration-300">
            <mat-icon class="!mr-2 !text-[20px]">lock</mat-icon>
            Change Password
          </button>
        </div>
      </div>
    </div>

    <!-- Loading Spinner -->
    <div *ngIf="isLoading" class="flex items-center justify-center py-16">
      <mat-spinner diameter="50"></mat-spinner>
    </div>

    <!-- Content Section -->
    <div *ngIf="!isLoading && userDetails && propertyDetails" class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      
      <!-- User Profile Card -->
      <div class="lg:col-span-1">
        <mat-card class="!shadow-xl !rounded-xl overflow-hidden h-full">
          <mat-card-content class="!p-6">
            <div class="flex flex-col items-center text-center">
              <!-- User Avatar -->
              <div class="w-24 h-24 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white text-3xl font-bold shadow-lg mb-4">
                {{ userDetails.firstName.charAt(0).toUpperCase() }}{{ userDetails.lastName.charAt(0).toUpperCase() }}
              </div>
              
              <!-- User Name -->
              <h2 class="text-2xl font-bold text-gray-900 mb-1">
                {{ userDetails.firstName }} {{ userDetails.lastName }}
              </h2>
              
              <!-- Username -->
              <p class="text-gray-500 mb-3">&#64;{{ userDetails.username }}</p>
              
              <!-- Status Badge -->
              <span 
                [class]="'inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold mb-4 ' + getStatusClass(userDetails.status)">
                <span [class]="'w-2 h-2 rounded-full mr-2 ' + (userDetails.status.toUpperCase() === 'ACTIVE' ? 'bg-green-500' : 'bg-red-500')"></span>
                {{ userDetails.status | titlecase }}
              </span>

              <mat-divider class="!w-full !my-4"></mat-divider>

              <!-- User Details -->
              <div class="w-full text-left space-y-3">
                <div class="flex items-center justify-between">
                  <span class="text-gray-600 text-sm font-medium">User ID:</span>
                  <span class="text-gray-900 font-semibold text-sm">{{ userDetails.userId }}</span>
                </div>
                
                <!-- Email -->
                <div class="flex items-center justify-between">
                  <span class="text-gray-600 text-sm font-medium">Email:</span>
                  <span class="text-gray-900 font-semibold text-sm">
                    {{ userDetails.email || 'Not provided' }}
                  </span>
                </div>
                
        
                
                <!-- Member Since -->
                <div class="flex items-center justify-between">
                  <span class="text-gray-600 text-sm font-medium">Member Since:</span>
                  <span class="text-gray-900 font-semibold text-sm">
                    {{ formatDate(userDetails.dateTimeCreated) }}
                  </span>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>

      <!-- Property Details Card -->
      <div class="lg:col-span-2">
        <mat-card class="!shadow-xl !rounded-xl overflow-hidden h-full">
          <mat-card-content class="!p-6">
            <div class="flex items-center gap-3 mb-6">
              <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-600 flex items-center justify-center shadow-md">
                <mat-icon class="!text-white !w-6 !h-6 !text-[24px]">business</mat-icon>
              </div>
              <div>
                <h3 class="text-xl font-bold text-gray-900">Property Information</h3>
                <p class="text-gray-500 text-sm">Associated property details</p>
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <!-- Property Name -->
              <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex items-start">
                  <mat-icon class="!text-indigo-600 !w-5 !h-5 !text-[20px] mr-3 mt-0.5">hotel</mat-icon>
                  <div class="flex-1">
                    <p class="text-xs text-gray-600 font-medium mb-1">Property Name</p>
                    <p class="text-sm font-semibold text-gray-900">{{ propertyDetails.propertyName }}</p>
                  </div>
                </div>
              </div>

              <!-- Property Code -->
              <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex items-start">
                  <mat-icon class="!text-purple-600 !w-5 !h-5 !text-[20px] mr-3 mt-0.5">tag</mat-icon>
                  <div class="flex-1">
                    <p class="text-xs text-gray-600 font-medium mb-1">Property Code</p>
                    <p class="text-sm font-semibold text-gray-900">{{ propertyDetails.propertyCode }}</p>
                  </div>
                </div>
              </div>

              <!-- Address -->
              <div class="bg-gray-50 rounded-lg p-4 md:col-span-2">
                <div class="flex items-start">
                  <mat-icon class="!text-green-600 !w-5 !h-5 !text-[20px] mr-3 mt-0.5">location_on</mat-icon>
                  <div class="flex-1">
                    <p class="text-xs text-gray-600 font-medium mb-1">Address</p>
                    <p class="text-sm font-semibold text-gray-900">
                      {{ propertyDetails.address }}, {{ propertyDetails.city }}<br>
                      {{ propertyDetails.state }}, {{ propertyDetails.country }} - {{ propertyDetails.zipCode }}
                    </p>
                  </div>
                </div>
              </div>

              <!-- Phone -->
              <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex items-start">
                  <mat-icon class="!text-blue-600 !w-5 !h-5 !text-[20px] mr-3 mt-0.5">phone</mat-icon>
                  <div class="flex-1">
                    <p class="text-xs text-gray-600 font-medium mb-1">Phone</p>
                    <p class="text-sm font-semibold text-gray-900">{{ propertyDetails.phone }}</p>
                  </div>
                </div>
              </div>

              <!-- Email -->
              <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex items-start">
                  <mat-icon class="!text-red-600 !w-5 !h-5 !text-[20px] mr-3 mt-0.5">email</mat-icon>
                  <div class="flex-1">
                    <p class="text-xs text-gray-600 font-medium mb-1">Email</p>
                    <p class="text-sm font-semibold text-gray-900">{{ propertyDetails.email }}</p>
                  </div>
                </div>
              </div>

              <!-- Total Rooms -->
              <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex items-start">
                  <mat-icon class="!text-orange-600 !w-5 !h-5 !text-[20px] mr-3 mt-0.5">meeting_room</mat-icon>
                  <div class="flex-1">
                    <p class="text-xs text-gray-600 font-medium mb-1">Total Rooms</p>
                    <p class="text-sm font-semibold text-gray-900">{{ propertyDetails.totalRooms }}</p>
                  </div>
                </div>
              </div>

              <!-- Status -->
              <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex items-start">
                  <mat-icon class="!text-teal-600 !w-5 !h-5 !text-[20px] mr-3 mt-0.5">check_circle</mat-icon>
                  <div class="flex-1">
                    <p class="text-xs text-gray-600 font-medium mb-1">Status</p>
                    <span [class]="'inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold ' + getStatusClass(propertyDetails.status)">
                      {{ propertyDetails.status }}
                    </span>
                  </div>
                </div>
              </div>

              <!-- Timezone -->
              <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex items-start">
                  <mat-icon class="!text-cyan-600 !w-5 !h-5 !text-[20px] mr-3 mt-0.5">schedule</mat-icon>
                  <div class="flex-1">
                    <p class="text-xs text-gray-600 font-medium mb-1">Timezone</p>
                    <p class="text-sm font-semibold text-gray-900">{{ propertyDetails.timeZone }}</p>
                  </div>
                </div>
              </div>

              <!-- Currency -->
              <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex items-start">
                  <mat-icon class="!text-pink-600 !w-5 !h-5 !text-[20px] mr-3 mt-0.5">attach_money</mat-icon>
                  <div class="flex-1">
                    <p class="text-xs text-gray-600 font-medium mb-1">Currency</p>
                    <p class="text-sm font-semibold text-gray-900">{{ propertyDetails.currency }}</p>
                  </div>
                </div>
              </div>

              <!-- Created Date -->
              <div class="bg-gray-50 rounded-lg p-4 md:col-span-2">
                <div class="flex items-start">
                  <mat-icon class="!text-indigo-600 !w-5 !h-5 !text-[20px] mr-3 mt-0.5">event</mat-icon>
                  <div class="flex-1">
                    <p class="text-xs text-gray-600 font-medium mb-1">Property Created</p>
                    <p class="text-sm font-semibold text-gray-900">{{ formatDate(propertyDetails.createdAt) }}</p>
                  </div>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>

    <!-- Error State -->
    <div *ngIf="!isLoading && (!userDetails || !propertyDetails)" class="flex flex-col items-center justify-center py-16 px-4">
      <mat-icon class="!w-20 !h-20 !text-[80px] !text-gray-300 mb-4">error_outline</mat-icon>
      <h3 class="text-xl font-semibold text-gray-700 mb-2">Failed to Load Account Details</h3>
      <p class="text-gray-500 mb-6">Please try refreshing the page</p>
      <button
        mat-raised-button
        color="primary"
        (click)="loadAccountDetails()"
        class="!rounded-lg">
        <mat-icon class="!mr-2">refresh</mat-icon>
        Retry
      </button>
    </div>
  </div>
</div>
