<mat-toolbar color="primary" class="!px-6 !py-2  sticky top-0 z-50 backdrop-blur-sm">
  <div class="flex items-center w-full max-w-screen-2xl mx-auto">
        <button
      mat-icon-button
      (click)="onToggleSidenav()"
      class="!mr-4 !text-black hover:!bg-white/10 !transition-all">
      <mat-icon>{{ sidenavOpened ? 'menu_open' : 'menu' }}</mat-icon>
    </button>
    <!-- Spacer -->
    <div class="flex-1"></div>

    <!-- Navigation Links - Desktop -->
    <ng-container *ngIf="authService.isAuthenticated()">
      <nav class="hidden lg:flex items-center gap-2 mr-4">
        <button
          mat-button
          routerLink="/dashboard"
          routerLinkActive="!bg-white/20"
          class="!flex !items-center !gap-2 !px-4 !py-2 !rounded-lg !transition-all hover:!bg-white/15">
          <mat-icon class="!w-5 !h-5 !text-[20px]">dashboard</mat-icon>
          <span class="font-medium">Dashboard</span>
        </button>

        <button
          mat-button
          routerLink="/stayView"
          routerLinkActive="!bg-white/20"
          class="!flex !items-center !gap-2 !px-4 !py-2 !rounded-lg !transition-all hover:!bg-white/15">
       <mat-icon class="!w-5 !h-5 !text-[20px]">event_note</mat-icon>
          <span class="font-medium">Stay View</span>
        </button>

        <button
          mat-button
          routerLink="/reservations"
          routerLinkActive="!bg-white/20"
          class="!flex !items-center !gap-2 !px-4 !py-2 !rounded-lg !transition-all hover:!bg-white/15">
          <mat-icon class="!w-5 !h-5 !text-[20px]">book_online</mat-icon>
          <span class="font-medium">Reservations</span>
        </button>
      </nav>

      <!-- User Profile Button -->
<button
  mat-button
  [matMenuTriggerFor]="userMenu"
  class="!flex !items-center !gap-2 !px-3 !py-2 !bg-white/15 !rounded-full hover:!bg-white/25 !transition-all !duration-300 !ml-2">
  <mat-icon class="!w-6 !h-6 !text-[24px]">account_circle</mat-icon>
  <span class="text-sm font-medium hidden md:inline-block max-w-[100px] truncate">
    {{ username || 'User' }}
  </span>
  <mat-icon class="!w-5 !h-5 !text-[20px] hidden md:inline-block">arrow_drop_down</mat-icon>
</button>

      <!-- User Dropdown Menu -->
      <mat-menu #userMenu="matMenu" xPosition="before" class="user-dropdown-menu">
        <!-- User Profile Header -->
        <div class="bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 px-6 py-6 flex items-center gap-4 relative overflow-hidden"
             (click)="$event.stopPropagation()">
          <!-- Decorative circles -->
          <div class="absolute -top-8 -right-8 w-32 h-32 bg-white/10 rounded-full"></div>
          <div class="absolute -bottom-6 -left-6 w-24 h-24 bg-white/10 rounded-full"></div>

          <!-- Avatar -->
          <div class="relative flex items-center justify-center w-16 h-16 rounded-full bg-white/25 backdrop-blur-md shadow-xl flex-shrink-0 ring-4 ring-white/20">
            <mat-icon class="!text-white !w-10 !h-10 !text-[40px]">person</mat-icon>
          </div>

          <!-- User Details -->
          <div class="flex-1 min-w-0 relative z-10">
            <p class="text-white text-lg font-bold leading-tight truncate mb-1.5 drop-shadow-md">
              {{ name || 'Guest User' }}
            </p>
            <p class="text-white/95 text-sm font-medium leading-tight truncate flex items-center gap-1">
<!--              <mat-icon class="!w-4 !h-4 !text-[16px]">alternate_email</mat-icon>-->
              {{ role || 'Guest' }}
            </p>
          </div>
        </div>

        <mat-divider class="!m-0"></mat-divider>

        <!-- Menu Actions -->
        <div class="py-2">
          <button
            mat-menu-item
            routerLink="/profile"
            class="!px-6 !py-3.5 !h-auto !flex !items-center !gap-4 hover:!bg-indigo-50 !transition-all group">
            <div class="flex items-center justify-center w-9 h-9 rounded-lg bg-indigo-100 group-hover:bg-indigo-200 transition-colors">
              <mat-icon class="!m-0 !text-indigo-600 !w-5 !h-5 !text-[22px]">person_outline</mat-icon>
            </div>
            <div class="flex-1">
              <span class="text-[15px] text-gray-800 font-medium block">My Profile</span>
              <span class="text-xs text-gray-500">View and edit profile</span>
            </div>
          </button>

          <button
            mat-menu-item
            routerLink="/settings"
            class="!px-6 !py-3.5 !h-auto !flex !items-center !gap-4 hover:!bg-indigo-50 !transition-all group">
            <div class="flex items-center justify-center w-9 h-9 rounded-lg bg-gray-100 group-hover:bg-gray-200 transition-colors">
              <mat-icon class="!m-0 !text-gray-600 !w-5 !h-5 !text-[22px]">settings</mat-icon>
            </div>
            <div class="flex-1">
              <span class="text-[15px] text-gray-800 font-medium block">Settings</span>
              <span class="text-xs text-gray-500">Preferences & security</span>
            </div>
          </button>

          <mat-divider class="!my-2"></mat-divider>

          <button
            mat-menu-item
            (click)="logout()"
            class="!px-6 !py-3.5 !h-auto !flex !items-center !gap-4 hover:!bg-red-50 !transition-all group">
            <div class="flex items-center justify-center w-9 h-9 rounded-lg bg-red-100 group-hover:bg-red-200 transition-colors">
              <mat-icon class="!m-0 !text-red-600 !w-5 !h-5 !text-[22px]">logout</mat-icon>
            </div>
            <div class="flex-1">
              <span class="text-[15px] text-red-600 font-semibold block">Logout</span>
              <span class="text-xs text-red-500">Sign out of your account</span>
            </div>
          </button>
        </div>
      </mat-menu>
    </ng-container>
  </div>
</mat-toolbar>
